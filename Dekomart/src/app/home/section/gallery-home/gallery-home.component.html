<!-- why decomart -->
<section class="why-dekomart-section">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-4 mb-4 mb-md-0">
        <div class="left-title">
          <span class="line-large">Why Choose <br> Dekomart?</span>
          <span class="line-small">Why Choose Dekomart?</span>
        </div>
      </div>
      <div class="col-md-8">
        <div class="right-text">
          Dekomart stands out for its commitment to quality, style, and customer satisfaction. We offer carefully
          selected
          products that blend modern trends with timeless elegance, all at affordable prices. With fast delivery and
          reliable support, Dekomart makes it easy to create beautiful spaces you’ll love.
        </div>
      </div>
    </div>
  </div>
</section>

<div class="container-fluid">
  @for (item of HomeHeaderData; track $index) {
  <div class="this_is_new mb-4">
    <div class="container d-block">
      <!-- <div class="justify-content-between mb-2">
        <div class="filter-tabs-2">
          <span class="filter-tab-2">{{item.MainHeader}}</span>
        </div>
      </div> -->
      <div class="filter-tabs mb-3">
        <span class="filter-tab">{{item.HeaderTitle}}</span>
      </div>
    </div>
    <!-- Product Grid -->
    <div class="row g-5 justify-content-center">
      <div class="container">
        @for (item of filterByHeaderTitle(item.HeaderTitle); track $index) {
        <div class="col-6 col-sm-6 col-xs-6 col-md-3 col-lg-3 col-xl-3 d-flex">
          <div class="product-card flex-fill d-flex flex-column">
            <div class="product-image-container" [ngClass]="item.IsWantCurve === 1 ? 'curved-right' : '' ">
              <img [src]="baseUrl + '/' + item.ImgPath" [alt]="item.HeaderTitle" class="product-image img-fluid">
              <div class="top-row">
                <span *ngIf="item.ProductTag" class="product-badge">{{item.ProductTag}}</span>
              </div>
            </div>
            <h3 class="product-title mt-2 mb-1">{{item.ProductName}}</h3>
            <div class="product-price-main-container mb-2">
              @if(item.Discount > 0) {
              <div class="price-container">
                <span class="mrp"><span class="original-price">{{item.ProductPrice | inr}}</span></span>
                <p class="product-price mb-0">{{item.FinalPrice | inr}}</p>
              </div>
              } @else {
              <p class="product-price mb-0">{{item.FinalPrice | inr}}</p> 
              }
            </div>
            <div class="d-flex gap-2 mt-auto">
              <button class="button-6 flex-fill" role="button" style="width: 90%;"
                (click)="AddToCartProductDetails(item.ProductId)">
                <i class="pi pi-shopping-cart"></i> Add to Cart
              </button>
              <button class="button-6" role="button"
                style="width: 10%; background-color: #964139; color: white; border: none;"
                (click)="GetProductDetails(item.ProductId)">
                <i class="fa-solid fa-eye"></i>
              </button>
            </div>
          </div>
        </div>
        }
      </div>
    </div>
  </div>
  }

  <!-- Customer Love Section -->
  <!-- <div class="this_is_new mb-5">
    <div class="filter-tabs" style="border-bottom: none;">
      <span class="filter-tab">CUSTOMER LOVE</span>
    </div>

    <div class="row justify-content-center g-4 mt-3">
      @for (item of CustomerReview; track $index) {
      <div class="col-12 col-sm-12 col-md-6 col-lg-3">
        <div class="testimonial-card text-center">
          <img src="https://i.pravatar.cc/" alt="User Photo" class="mb-3">
          <h5 class="mb-0">{{item.name}}</h5>
          <small class="text-muted">{{item.postition}}</small>
          <p class="mt-3">{{item.feedback}}</p>
          <div class="testimonial-stars mb-1">{{item.rating}}</div>
          <div class="testimonial-date">Reviewed on {{item.date}}</div>
        </div>
      </div>
      }
    </div>
  </div> -->
  <div class="col-md-12 col-sm-12 col-lg-12 col-xl-12 m-2 about-use-desgin">
    <div class="about-section">
      <div class="col-md-12 col-sm-12 col-lg-12 col-xl-12">
        <h5>About Dekomart</h5>
        <p><b>Dekomart – Your Personal Home Decor Destination</b></p>
        <p> With a wide range of beautifully designed home decor pieces, Dekomart is destined to make your home
          interiors look stunning along with the latest trends. Our styles, ranging from Contemporary, Antique,
          Scandinavian, Bohemian, and Eclectic, are crafted for your home to stand out creatively and individually.
          Every decor piece is crafted to suit diverse interiors with a focus on quality and design detail.</p>
      </div>
      <div class="col-md-12 col-sm-12 col-lg-12 col-xl-12">
        <h5>Popular Category</h5>
        <p>Dinner set, Cup-Mug, Cake Stand, Tea Sets, Plates, Pasta Plates, Coasters, Tea Pots, Ramen Bowls, Snack
          Plates, Trays,
          Tea Set with Kettle, Rugs, Dinner Plate, Cottage Core.</p>
      </div>
      <div class="col-md-12 col-sm-12 col-lg-12 col-xl-12">
        <h5>Gifts For Festivals/Occasions</h5>
        <p>Christmas Gifts, Christmas Decor, Secret Santa Gifts, Children's Day Gifts, Gifts For New Year, New Year
          Gifts For Corporates.</p>
      </div>
      <div class="col-md-12 col-sm-12 col-lg-12 col-xl-12">
        <h5>Gift For Special Occasions</h5> 
        <p>Anniversary Gifts, Wedding Gifts, House Warming Gifts, Baby Shower Gifts, Birthday Gifts, Farewell Gifts.</p>
      </div>
      <div class="col-md-12 col-sm-12 col-lg-12 col-xl-12">
        <h5>Gifts By Relationships</h5>
        <p>Valentine's Day Gifts, Gifts For Wife, Gifts For Husband, Gifts For Sister, Gifts For Brother, Gifts For
          Friends, Gifts For Mother,
          Gifts For Father, Gifts For Girlfriend, Gifts For Colleagues, New Year Gifts For Family, New Year Gifts For
          Her,
          New Year Gifts For Him, Valentine's Day Gifts For Boyfriend, Valentine's Day Gift For Friends, Valentine's Day
          Gift For Girlfriends,
          Valentine's Day Gift For Husband, Valentine's Day Gift For Wife</p>
      </div>
      <div class="col-md-12 col-sm-12 col-lg-12 col-xl-12">
        <h5>Popular Searches</h5>
        <p>Tote Bags, Marble Dinner Sets, Chef Decor, Tissue Box, Bowls with Chopsticks, Bread Plate, Leaf Platter,
          Nitori Side Bowl,
          Bathroom Set, Lunch Bag, Incense Difuser, Modern Cutlery Set, Vera Black Plates, House Plant Pots, Angel
          Decor,
          Scoop Spoon, Christmas Gifts, Water Bottles, Floor Mats, Cushion Covers, Rugs.</p>
      </div>
    </div>
  </div>
</div>


<p-dialog [(visible)]="displayDialog" [modal]="true" [style]="{ width: '100%', maxWidth: '1000px' }"
  [contentStyle]="{ padding: '0' }" [closable]="true" [dismissableMask]="true">
  <div class="cart-home-page">
    @for (item of ClickedProduct; track $index) {
    <div class="product-dialog-container">
      <!-- Left Section - Product Images -->
      <div class="left-section">
        <div class="main-image-wrapper">
          <img [src]="baseUrl + '/'+ ClickedImage" alt="Product Image" class="main-img" />
        </div>
        <div class="thumbnail-gallery">
          @for (thumbItem of ClickedProductImage; track $index) {
          <div class="thumbnail-item" [class.active]="ClickedImage === thumbItem.ProductImagePath">
            <img [src]="baseUrl + '/'+ thumbItem.ProductImagePath" 
                 (click)="ClickedImage = thumbItem.ProductImagePath" 
                 alt="Thumbnail {{$index + 1}}"
                 class="thumbnail-img" />
          </div>
          }
        </div>
      </div>

      <!-- Right Section - Product Details -->
      <div class="right-section">
        <!-- Product Header -->
        <div class="product-header">
          <div class="product-title-wrapper">
            <h2 class="product-title">{{item.ProductName}}</h2>
            <div class="product-badge-new" *ngIf="item.ProductTag">NEW</div>
          </div>
          <div class="product-rating">
            <div class="stars-container">
              <span class="stars">★★★★☆</span>
              <span class="rating-value">4.5</span>
            </div>
            <span class="review-count">(30 reviews)</span>
          </div>
        </div>

        <!-- Product Description -->
        <div class="product-description-section">
          <p class="product-desc">{{item.ProductDesc}}</p>
        </div>

        <!-- Price Section -->
        <div class="price-section">
          @if(item.Discount > 0){
          <div class="price-container">
            <div class="price-main">
              <div class="current-price">₹{{item.FinalPrice | number}}</div>
              <div class="discount-badge-large">{{item.Discount}}% OFF</div>
            </div>
            <div class="price-details">
              <span class="mrp-label">M.R.P:</span>
              <span class="original-price">₹{{item.ProductPrice | number}}</span>
              <span class="savings">You save ₹{{(item.ProductPrice - item.FinalPrice) | number}}</span>
            </div>
          </div>
          } @else {
          <div class="price-container">
            <div class="current-price">₹{{item.FinalPrice | number}}</div>
          </div>
          }
        </div>

        <!-- Size Selection -->
        @if(AvailableSize && AvailableSize.length > 0) {
        <div class="size-selection-section">
          <label class="section-label">Select Size</label>
          <div class="size-options">
            @for (sizeItem of AvailableSize; track $index) {
            <button type="button" 
                    class="size-btn" 
                    [class.selected-size]="CartItem.Size === sizeItem" 
                    (click)="CartItem.Size = sizeItem">
              {{sizeItem}}
            </button>
            }
          </div>
        </div>
        }

        <!-- Quantity Selection -->
        <div class="quantity-selection-section">
          <label class="section-label">Quantity</label>
          <div class="quantity-control">
            <button type="button" class="qty-btn minus" (click)="decrementQuantity()">−</button>
            <input type="text" class="qty-input" [value]="Quantity" readonly />
            <button type="button" class="qty-btn plus" (click)="incrementQuantity()">+</button>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
          <button type="button" class="btn-primary add-cart-btn" (click)="AddtoCart()">
            <span class="btn-icon">
              <i class="pi pi-shopping-cart"></i>
            </span>
            <span class="btn-text">Add to Cart</span>
            <span class="btn-ripple"></span>
          </button>
          <button type="button" class="btn-secondary buy-now-btn">
            <span class="btn-text">Buy Now</span>
            <span class="btn-arrow">→</span>
            <span class="btn-ripple"></span>
          </button>
        </div>
        
        <!-- Additional Info -->
        <div class="product-features">
          <div class="feature-item">
            <i class="pi pi-truck"></i>
            <span>Free Shipping</span>
          </div>
          <div class="feature-item">
            <i class="pi pi-shield"></i>
            <span>Secure Payment</span>
          </div>
          <div class="feature-item">
            <i class="pi pi-undo"></i>
            <span>Easy Returns</span>
          </div>
        </div>
      </div>
    </div>
    }
  </div>
</p-dialog>