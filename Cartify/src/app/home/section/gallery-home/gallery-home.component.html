<!-- why decomart -->
<section class="why-dekomart-section">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-4 mb-4 mb-md-0">
        <div class="left-title">
          <span class="line-large">Why Choose <br> Dekomart?</span>
          <span class="line-small">Why Choose Dekomart?</span>
        </div>
      </div>
      <div class="col-md-8">
        <div class="right-text">
          Dekomart stands out for its commitment to quality, style, and customer satisfaction. We offer carefully
          selected
          products that blend modern trends with timeless elegance, all at affordable prices. With fast delivery and
          reliable support, Dekomart makes it easy to create beautiful spaces you’ll love.
        </div>
      </div>
    </div>
  </div>
</section>

<div class="container-fluid">
  @for (item of HomeHeaderData; track $index) {
    <div class="this_is_new mb-4">
      <div class="justify-content-between mb-2">
        <div class="filter-tabs-2">
          <span class="filter-tab-2">{{item.MainHeader}}</span>
        </div>
      </div>

      <div class="filter-tabs mb-3">
        <span class="filter-tab">{{item.HeaderTitle}}</span>
      </div>

      <!-- Product Grid -->
      <div class="row g-4">
        @for (item of filterByHeaderTitle(item.HeaderTitle); track $index) {
          <div class="col-12 col-sm-12 col-md-6 col-lg-3">
            <div class="product-card">
              <div class="product-image-container">
                <img [src]="baseUrl + '/' + item.ImgPath" [alt]="item.HeaderTitle" class="product-image">
                <div class="top-row">
                  <span *ngIf="item.ProductTag" class="product-badge">{{item.ProductTag}}</span>
                </div>
                <div class="bottem-row">
                  <i class="pi pi-plus add-icon" (click)="GetProductDetails(item.ProductId)"></i>
                </div>
              </div>

              <h3 class="product-title">{{item.ProductName}}</h3>

              @if(item.Discount > 0) {
                <div class="price-container">
                  <p class="product-price">{{item.FinalPrice | inr}}</p>
                  <span class="mrp">M.R.P: <span class="original-price">{{item.ProductPrice | inr}}</span></span>
                  <span class="discount">({{item.Discount}}% off)</span>
                </div>
              } @else {
                <p class="product-price">{{item.FinalPrice | inr}}</p>
              }
            </div>
          </div>
        }
      </div>
    </div>
  }

  <!-- Customer Love Section -->
  <div class="this_is_new mb-5">
    <div class="filter-tabs" style="border-bottom: none;">
      <span class="filter-tab">CUSTOMER LOVE</span>
    </div>

    <div class="row justify-content-center g-4 mt-3">
      @for (item of CustomerReview; track $index) {
        <div class="col-12 col-sm-12 col-md-6 col-lg-3">
          <div class="testimonial-card text-center">
            <img src="https://i.pravatar.cc/" alt="User Photo" class="mb-3">
            <h5 class="mb-0">{{item.name}}</h5>
            <small class="text-muted">{{item.postition}}</small>
            <p class="mt-3">{{item.feedback}}</p>
            <div class="testimonial-stars mb-1">{{item.rating}}</div>
            <div class="testimonial-date">Reviewed on {{item.date}}</div>
          </div>
        </div>
      }
    </div>
  </div>
</div>


<p-dialog [(visible)]="displayDialog" [modal]="true" [style]="{ width: '1000px' }" [contentStyle]="{ padding: '0' }">
  <div class="col-md-12 col-sm-12 col-lg-12 col-xl-12 cart-home-page d-flex">
    <div class="left-section col-md-8 col-sm-8 col-lg-8 col-xl-8">
      <img [src]="baseUrl + '/'+ ClickedImage" alt="Product Image" class="main-img" />
      <div class="col-md-12 col-sm-12 col-lg-12 col-xl-12 d-flex gap-2">
        @for (item of ClickedProductImage; track $index) {
        <div class="thumbnails d-flex">
          <img [src]="baseUrl + '/'+ item.ProductImagePath" (click)="ClickedImage = item.ProductImagePath"
            alt="thumb1" />
        </div>
        }
      </div>
    </div>
    @for (item of ClickedProduct; track $index) {
    <div class="right-section col-md-4 col-xl-4 col-sm-4 col-lg-4">
      <div class="col-md-12 col-sm-12 col-lg-12 col-xl-12 d-flex justify-content-end">
        <i class="fa-solid fa-xmark fa-xl" (click)="closeModel()" style="color: black;"></i>
      </div>
      <div class="product-title">{{item.ProductName}}</div>
      <div class="product-desc" style="color: black;">{{item.ProductDesc}}</div>
      <div class="rating">★★★★☆ 30 reviews</div>
      @if(item.Discount > 0){
      <div class="price-container">
        <p class="product-price">₹{{item.FinalPrice | number}}</p>
        <span class="mrp">M.R.P: <span class="original-price">₹{{item.ProductPrice}}</span></span>
        <span class="discount">({{item.Discount}}% off)</span>
      </div>
      } @else {
      <h3 class="product-title">{{item.ProductName}}</h3>
      <p class="product-price">₹{{item.FinalPrice | number}}</p>
      }
      <div class="size-options">
        @for (item of AvailableSize; track $index) {
        <button [ngClass]="{'selected-size' : CartItem.Size === item}" (click)="CartItem.Size = item">{{item}}</button>
        }
      </div>
      <div class="quantity-wrapper">
        <label class="quantity-label">Quantity</label>
        <div class="quantity-control">
          <button class="qty-btn" (click)="decrementQuantity()">−</button>
          <input type="text" class="qty-input" [value]="Quantity" readonly />
          <button class="qty-btn" (click)="incrementQuantity()">+</button>
        </div>
      </div>
      <p class="product-description">
        Celebrate the power and simplicity of the Swoosh. This warm, brushed fleece hoodie is made with some extra
        room
        through the shoulder.
      </p>

      <div class="actions">
        <button class="add-cart" (click)="AddtoCart()">Add to Cart</button>
        <button class="buy-now">Buy Now</button>
      </div>
    </div>

    }
  </div>
</p-dialog>